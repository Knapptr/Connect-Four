(this.webpackJsonpconnect_four=this.webpackJsonpconnect_four||[]).push([[0],{19:function(n,e,t){},20:function(n,e,t){},24:function(n,e,t){"use strict";t.r(e);var r,o,c,a,i,u,l,d,f=t(0),s=t.n(f),g=t(11),h=t.n(g),m=(t(19),t(20),t(2)),p=t(3),b=p.b.header(r||(r=Object(m.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: baseline;\n  padding: 2rem;\n  max-width: 800px;\n  margin: 0 auto;\n  h1 {\n    flex-grow: 1;\n  }\n  @media only screen and (max-width: 420px) {\n    padding: 0.5rem;\n    flex-direction: column;\n    align-items: center;\n    h1 {\n      font-size: 1.5rem;\n    }\n  }\n"]))),j=p.b.ul(o||(o=Object(m.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.25rem;\n  margin: 0;\n  justify-content: center;\n  align-items: stretch;\n  padding-inline-start: 0;\n  padding-inline-end: 0;\n  li {\n    padding: 1.5rem;\n  }\n"]))),y=p.b.div(c||(c=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  margin: 0 auto;\n  flex-grow: 1;\n  gap: 0.25rem;\n"]))),v=p.b.div(a||(a=Object(m.a)(["\n  display: flex;\n  gap: inherit;\n  flex-direction: column;\n  :hover {\n    filter: brightness(97%);\n  }\n"]))),O=p.b.div(i||(i=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 85%;\n  max-width: 700px;\n  margin: 0 auto;\n  h1 {\n    text-align: center;\n  }\n"]))),x=t(1),C=function(){return Object(x.jsxs)(b,{children:[Object(x.jsx)("h1",{children:"(de)Connect Four"}),Object(x.jsx)("a",{href:"https://github.com/knapptr/Connect-Four",rel:"noreferrer",target:"_blank",children:"Github"})]})},w=t(4),P=function(){var n={};return{add:function(e,t){n[e]||(n[e]=[]),n[e].push(t)},remove:function(e,t){n[e]&&(n[e]=n[e].filter((function(n){return n!==t})))},trigger:function(e){n[e.action]&&n[e.action].forEach((function(n){n(e.payload)}))}}},E=t(5),k=function(n,e){if(n<4||e<4)throw new Error("Height and width must each be greater than 0");var t=Array.from(Array(n),(function(n,t){return Array.from(Array(e),(function(n,e){return{coords:{x:t,y:e},occupied:!1}}))})),r=function(n){return t[n].every((function(n){return n.occupied}))},o=function(n){for(var e=1,t=n[0].occupied||"none",r=1,o=!1;!o&&r<n.length;){var c=n[r];c.occupied!==t?(t=c.occupied||"none",r+=1,e=1):((e+=1)>=4&&(o=!0),r+=1)}return o},c=function(){var n=Array.from(t[0],(function(){return[]}));return t.forEach((function(e){e.forEach((function(e){n[e.coords.y][e.coords.x]=e}))})),n},a=function(n){for(var e=[],r=n.coords.x,o=n.coords.y;r<t.length&&o>=0;)e.push(t[r][o]),o-=1,r+=1;return e},i=function(n){for(var e=[],r=n.coords.x,o=n.coords.y;r>=0&&o>=0;)e.push(t[r][o]),o-=1,r-=1;return e},u=function(){return function(){var n,e=[],r=Object(E.a)(t[0]);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.push(a(o))}}catch(d){r.e(d)}finally{r.f()}var c,i=Object(E.a)(t.slice(1));try{for(i.s();!(c=i.n()).done;){var u=c.value,l=u[u.length-1];e.push(a(l))}}catch(d){i.e(d)}finally{i.f()}return e.filter((function(n){return n.length>=4}))}().some((function(n){return o(n)}))},l=function(){return function(){var n,e=[],r=Object(E.a)(t[t.length-1]);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.push(i(o))}}catch(d){r.e(d)}finally{r.f()}var c,a=Object(E.a)(t.slice(0,t.length-1));try{for(a.s();!(c=a.n()).done;){var u=c.value,l=u[u.length-1];e.push(i(l))}}catch(d){a.e(d)}finally{a.f()}return e.filter((function(n){return n.length>=4}))}().some((function(n){return o(n)}))};return{getBoard:function(){return t},placePiece:function(n,e){if(r(n))throw new Error("Column is full!");var o=function(n){var e=t[n].length-1;return t[n][e].occupied?t[n].findIndex((function(n){return!1!==n.occupied}))-1:e}(n);t[n][o].occupied=e},checkForFourInRow:function(){return t.some((function(n){return o(n)}))||c().some((function(n){return o(n)}))||u()||l()},checkIfFilled:function(){return t.every((function(n){return n.every((function(n){return n.occupied}))}))},checkIfColFull:r}},I=function(n){var e=n.name,t=n.id,r=n.isAI,o=n.color;return{getName:function(){return e},setName:function(n){var t=n.trim();return t.length<=0&&(t="anonymous"),e=t},getColor:function(){return o},setColor:function(n){return o=n},id:t,isAI:r}},F=function(n,e,t){var r=!1,o=!1,c=Array.from(n,(function(n){return I(n)})),a=function(){var n=[];return c.forEach((function(e){n.push({name:e.getName(),id:e.id,color:e.getColor()})})),n},i=function(){var n=[];return c.forEach((function(e){n.push(e.getName())})),n},u=k(e[0],e[1]),l=0,d=0,f=function(){return u.checkForFourInRow()?(r=!0,o=g().id):u.checkIfFilled()&&(r=!0,o="tie"),r&&t.trigger({action:"gameEndChange",payload:s()}),r},s=function(){return o},g=function(){var n=c[d];return{name:n.getName(),id:n.id}};return{takeTurn:function(n){if(!u.checkIfColFull(n)&&!r){var e=c[d].id;u.placePiece(n,e),t.trigger({action:"boardChange",payload:u.getBoard()}),f()?t.trigger({action:"gameOver",payload:!0}):(l+=1,(d+=1)>c.length-1&&(d=0),t.trigger({action:"turnChange",payload:g()}))}},getPlayers:a,setPlayerNames:function(n){c.forEach((function(e,t){e.setName(n[t])})),t.trigger({action:"nameChange",payload:i()})},getPlayerNames:i,getTurnCount:function(){return l},getCurrentPlayer:g,isGameOver:f,getBoard:function(){return u.getBoard()},getPlayerColorByID:function(n){return a().filter((function(e){return e.id===n}))[0].color},getEndState:s,resetGame:function(){u=k(e[0],e[1]),l=0,r=!1,o=!1,t.trigger({action:"boardChange",payload:u.getBoard()}),t.trigger({action:"gameEndChange",payload:s()}),t.trigger({action:"turnChange",payload:g()}),t.trigger({action:"turnChange",payload:g()}),t.trigger({action:"gameOver",payload:!1})}}},A=[{name:"Player 1",id:"player_1",isAI:!1,color:"red"},{name:"Player 2",id:"player_2",isAI:!1,color:"black"}],B=[7,6],S=P(),N=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;return F(n,e,S)}(),D=p.b.div(u||(u=Object(m.a)(["\n  background: ",";\n  max-width: 50px;\n  padding-bottom: 100%;\n  min-width: 28px;\n  border: 1px solid black;\n  @media only screen and (min-width: 444px) {\n    width: 50px;\n  }\n"])),(function(n){return n.color})),L=p.b.li(l||(l=Object(m.a)(["\n  position: relative;\n  width: 100%;\n  background: ",";\n  text-align: center;\n  color: whitesmoke;\n  list-style: none;\n  text-shadow: ",";\n  font-weight: bold;\n  padding: 1rem;\n  ::after {\n    content: ",";\n    position: absolute;\n    padding-left: 15px;\n  }\n"])),(function(n){return n.color}),(function(n){return n.isCurrentPlayer?"0 0 5px white":"none"}),(function(n){var e=n.isCurrentPlayer;return n.isWinner?'"\ud83c\udfc6"':e?'"\ud83d\udc4d"':""})),G=function(n){var e=n.currentPlayer,t=n.gameOver,r=n.winner,o=Object(f.useState)(N.getPlayers()),c=Object(w.a)(o,2),a=c[0],i=c[1];return console.log(t),Object(f.useEffect)((function(){var n=function(n){i(n)};return S.add("nameChange",n),function(){S.remove("nameChange",n)}}),[]),Object(x.jsxs)(j,{children:[t?a.map((function(n){return Object(x.jsx)(L,{isWinner:r===n.id,isCurrentPlayer:e.id===n.id,color:N.getPlayerColorByID(n.id),children:n.name},"PLAYER-".concat(n.id))})):a.map((function(n){return Object(x.jsx)(L,{isCurrentPlayer:e.id===n.id,color:N.getPlayerColorByID(n.id),children:n.name},"PLAYER-".concat(n.id))})),t?Object(x.jsx)("button",{onClick:function(){N.resetGame()},children:"Play Again"}):null]})},T=function(n){return Object(x.jsx)(v,{onClick:function(){return N.takeTurn(n.index)},children:n.children})},_=function(){var n=Object(f.useState)(N.getBoard()),e=Object(w.a)(n,2),t=e[0],r=e[1];return Object(f.useEffect)((function(){var n=function(n){r(n)};return S.add("boardChange",n),function(){S.remove("boardChange",n)}}),[]),Object(x.jsx)(y,{children:t.map((function(n,e){return Object(x.jsx)(T,{index:e,children:n.map((function(n){return Object(x.jsx)(D,{occupied:n.occupied,color:n.occupied?N.getPlayerColorByID(n.occupied):"white"},"CELL:".concat(n.coords.x,",").concat(n.coords.y))}))},"COL-".concat(e))}))})},R=function(){var n=Object(f.useState)(!1),e=Object(w.a)(n,2),t=e[0],r=e[1],o=Object(f.useState)(N.getEndState()),c=Object(w.a)(o,2),a=c[0],i=c[1],u=Object(f.useState)(N.getCurrentPlayer()),l=Object(w.a)(u,2),d=l[0],s=l[1];return Object(f.useEffect)((function(){var n=function(n){s(n)},e=function(n){r(n)},t=function(n){i(n)};return S.add("gameOver",e),S.add("turnChange",n),S.add("gameEndChange",t),function(){S.remove("gameOver",e),S.remove("nameChange",n),S.remove("gameEndChange",t)}}),[]),Object(x.jsx)(O,{children:t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(_,{}),Object(x.jsxs)("h2",{children:["Game Over!","   ","tie"===N.getEndState()?"Draw!":N.getPlayerColorByID(N.getEndState()).toUpperCase()+" WINS!"]}),Object(x.jsx)(G,{currentPlayer:d,gameOver:!0,winner:a})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(_,{}),Object(x.jsx)("h2",{children:"Play!"}),Object(x.jsx)(G,{currentPlayer:d,gameOver:!1,winner:a})]})})},W=Object(p.a)(d||(d=Object(m.a)(['\n\nh1,a{\n    font-family: "Orelega One", sans-serif;\n}\nh2{\n    text-transform: uppercase;\n    font-weight: lighter;\n    font-size: 1.2rem;\n    margin: 1rem;\n    \n}\nbutton{\n    padding: .5rem;\n    background: white;\n    border: 2px solid black;\n    font-family: "Orelega One", sans-serif;\n    &:hover{\n        color: #6f6f6f;\n    }\n}\n\n'])));var z=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(W,{}),Object(x.jsx)(C,{}),Object(x.jsx)(R,{})]})},J=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,25)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,c=e.getLCP,a=e.getTTFB;t(n),r(n),o(n),c(n),a(n)}))};h.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(z,{})}),document.getElementById("root")),J()}},[[24,1,2]]]);
//# sourceMappingURL=main.ad45b20b.chunk.js.map