(this.webpackJsonpconnect_four=this.webpackJsonpconnect_four||[]).push([[0],{19:function(n,e,t){},20:function(n,e,t){},24:function(n,e,t){"use strict";t.r(e);var r,o,c,a,i,u,l,d=t(0),f=t.n(d),s=t(11),g=t.n(s),h=(t(19),t(20),t(2)),m=t(3),j=m.a.header(r||(r=Object(h.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: baseline;\n  padding: 2rem;\n  width: 90%;\n  max-width: 800px;\n  margin: 0 auto;\n  h1 {\n    flex-grow: 1;\n    margin-left: 2rem;\n  }\n"]))),p=m.a.ul(o||(o=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),y=m.a.div(c||(c=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  margin: 0 auto;\n  gap: 0.25rem;\n"]))),b=m.a.div(a||(a=Object(h.a)(["\n  display: flex;\n  gap: inherit;\n  flex-direction: column;\n  :hover {\n    filter: brightness(97%);\n  }\n"]))),v=m.a.div(i||(i=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 85%;\n  max-width: 700px;\n  margin: 0 auto;\n  ul {\n    margin: 0 auto;\n    padding: 1rem;\n    padding-inline-start: 0;\n    min-width: 300px;\n    max-width: 400px;\n    li {\n      margin-bottom: 0.5rem;\n    }\n  }\n  h1 {\n    text-align: center;\n  }\n"]))),O=t(1),x=function(){return Object(O.jsxs)(j,{children:[Object(O.jsx)("h1",{children:"(de)Connect Four"}),Object(O.jsx)("a",{href:"https://github.com/knapptr/Connect-Four",rel:"noreferrer",target:"_blank",children:"Github"})]})},C=t(4),P=function(){var n={};return{add:function(e,t){n[e]||(n[e]=[]),n[e].push(t)},remove:function(e,t){n[e]&&(n[e]=n[e].filter((function(n){return n!==t})))},trigger:function(e){n[e.action]&&n[e.action].forEach((function(n){n(e.payload)}))}}},w=t(5),E=function(n,e){if(n<4||e<4)throw new Error("Height and width must each be greater than 0");var t=Array.from(Array(n),(function(n,t){return Array.from(Array(e),(function(n,e){return{coords:{x:t,y:e},occupied:!1}}))})),r=function(n){return t[n].every((function(n){return n.occupied}))},o=function(n){for(var e=1,t=n[0].occupied||"none",r=1,o=!1;!o&&r<n.length;){var c=n[r];c.occupied!==t?(t=c.occupied||"none",r+=1,e=1):((e+=1)>=4&&(o=!0),r+=1)}return o},c=function(){var n=Array.from(t[0],(function(){return[]}));return t.forEach((function(e){e.forEach((function(e){n[e.coords.y][e.coords.x]=e}))})),n},a=function(n){for(var e=[],r=n.coords.x,o=n.coords.y;r<t.length&&o>=0;)e.push(t[r][o]),o-=1,r+=1;return e},i=function(n){for(var e=[],r=n.coords.x,o=n.coords.y;r>=0&&o>=0;)e.push(t[r][o]),o-=1,r-=1;return e},u=function(){return function(){var n,e=[],r=Object(w.a)(t[0]);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.push(a(o))}}catch(d){r.e(d)}finally{r.f()}var c,i=Object(w.a)(t.slice(1));try{for(i.s();!(c=i.n()).done;){var u=c.value,l=u[u.length-1];e.push(a(l))}}catch(d){i.e(d)}finally{i.f()}return e.filter((function(n){return n.length>=4}))}().some((function(n){return o(n)}))},l=function(){return function(){var n,e=[],r=Object(w.a)(t[t.length-1]);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.push(i(o))}}catch(d){r.e(d)}finally{r.f()}var c,a=Object(w.a)(t.slice(0,t.length-1));try{for(a.s();!(c=a.n()).done;){var u=c.value,l=u[u.length-1];e.push(i(l))}}catch(d){a.e(d)}finally{a.f()}return e.filter((function(n){return n.length>=4}))}().some((function(n){return o(n)}))};return{getBoard:function(){return t},placePiece:function(n,e){if(r(n))throw new Error("Column is full!");var o=function(n){var e=t[n].length-1;return t[n][e].occupied?t[n].findIndex((function(n){return!1!==n.occupied}))-1:e}(n);t[n][o].occupied=e},checkForFourInRow:function(){return t.some((function(n){return o(n)}))||c().some((function(n){return o(n)}))||u()||l()},checkIfFilled:function(){return t.every((function(n){return n.every((function(n){return n.occupied}))}))},checkIfColFull:r}},k=function(n){var e=n.name,t=n.id,r=n.isAI,o=n.color;return{getName:function(){return e},setName:function(n){var t=n.trim();return t.length<=0&&(t="anonymous"),e=t},getColor:function(){return o},setColor:function(n){return o=n},id:t,isAI:r}},I=function(n,e,t){var r=!1,o=!1,c=Array.from(n,(function(n){return k(n)})),a=function(){var n=[];return c.forEach((function(e){n.push({name:e.getName(),id:e.id,color:e.getColor()})})),n},i=function(){var n=[];return c.forEach((function(e){n.push(e.getName())})),n},u=E(e[0],e[1]),l=0,d=0,f=function(){return u.checkForFourInRow()?(r=!0,o=g().id):u.checkIfFilled()&&(r=!0,o="tie"),r&&t.trigger({action:"gameEndChange",payload:s()}),r},s=function(){return o},g=function(){var n=c[d];return{name:n.getName(),id:n.id}};return{takeTurn:function(n){if(!u.checkIfColFull(n)&&!r){var e=c[d].id;u.placePiece(n,e),t.trigger({action:"boardChange",payload:u.getBoard()}),f()?t.trigger({action:"gameOver",payload:!0}):(l+=1,(d+=1)>c.length-1&&(d=0),t.trigger({action:"turnChange",payload:g()}))}},getPlayers:a,setPlayerNames:function(n){c.forEach((function(e,t){e.setName(n[t])})),t.trigger({action:"nameChange",payload:i()})},getPlayerNames:i,getTurnCount:function(){return l},getCurrentPlayer:g,isGameOver:f,getBoard:function(){return u.getBoard()},getPlayerColorByID:function(n){return a().filter((function(e){return e.id===n}))[0].color},getEndState:s,resetGame:function(){u=E(e[0],e[1]),l=0,r=!1,o=!1,t.trigger({action:"boardChange",payload:u.getBoard()}),t.trigger({action:"gameEndChange",payload:s()}),t.trigger({action:"turnChange",payload:g()}),t.trigger({action:"turnChange",payload:g()}),t.trigger({action:"gameOver",payload:!1})}}},F=[{name:"Player 1",id:"player_1",isAI:!1,color:"red"},{name:"Player 2",id:"player_2",isAI:!1,color:"black"}],A=[7,6],B=P(),S=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;return I(n,e,B)}(),N=m.a.div(u||(u=Object(h.a)(["\n  background: ",";\n  height: 50px;\n  width: 50px;\n  border: 1px solid black;\n"])),(function(n){return n.color})),D=m.a.li(l||(l=Object(h.a)(["\n  position: relative;\n  background: ",";\n  text-align: center;\n  color: whitesmoke;\n  list-style: none;\n  text-shadow: ",";\n  font-weight: bold;\n  padding: 1rem;\n  ::after {\n    content: ",";\n    position: absolute;\n    padding-left: 15px;\n  }\n"])),(function(n){return n.color}),(function(n){return n.isCurrentPlayer?"0 0 5px white":"none"}),(function(n){var e=n.isCurrentPlayer;return n.isWinner?'"\ud83c\udfc6"':e?'"\ud83d\udc4d"':""})),L=function(n){var e=n.currentPlayer,t=n.gameOver,r=n.winner,o=Object(d.useState)(S.getPlayers()),c=Object(C.a)(o,2),a=c[0],i=c[1];return console.log(t),Object(d.useEffect)((function(){var n=function(n){i(n)};return B.add("nameChange",n),function(){B.remove("nameChange",n)}}),[]),Object(O.jsxs)(p,{children:[Object(O.jsx)("div",{className:"list",children:t?a.map((function(n){return Object(O.jsx)(D,{isWinner:r===n.id,isCurrentPlayer:e.id===n.id,color:S.getPlayerColorByID(n.id),children:n.name},"PLAYER-".concat(n.id))})):a.map((function(n){return Object(O.jsx)(D,{isCurrentPlayer:e.id===n.id,color:S.getPlayerColorByID(n.id),children:n.name},"PLAYER-".concat(n.id))}))}),t?Object(O.jsx)("button",{onClick:function(){S.resetGame()},children:"Play Again"}):null]})},G=function(n){return Object(O.jsx)(b,{onClick:function(){return S.takeTurn(n.index)},children:n.children})},T=function(){var n=Object(d.useState)(S.getBoard()),e=Object(C.a)(n,2),t=e[0],r=e[1];return Object(d.useEffect)((function(){var n=function(n){r(n)};return B.add("boardChange",n),function(){B.remove("boardChange",n)}}),[]),Object(O.jsx)(y,{children:t.map((function(n,e){return Object(O.jsx)(G,{index:e,children:n.map((function(n){return Object(O.jsx)(N,{occupied:n.occupied,color:n.occupied?S.getPlayerColorByID(n.occupied):"white"},"CELL:".concat(n.coords.x,",").concat(n.coords.y))}))},"COL-".concat(e))}))})},_=function(){var n=Object(d.useState)(!1),e=Object(C.a)(n,2),t=e[0],r=e[1],o=Object(d.useState)(S.getEndState()),c=Object(C.a)(o,2),a=c[0],i=c[1],u=Object(d.useState)(S.getCurrentPlayer()),l=Object(C.a)(u,2),f=l[0],s=l[1];return Object(d.useEffect)((function(){var n=function(n){s(n)},e=function(n){r(n)},t=function(n){i(n)};return B.add("gameOver",e),B.add("turnChange",n),B.add("gameEndChange",t),function(){B.remove("gameOver",e),B.remove("nameChange",n),B.remove("gameEndChange",t)}}),[]),Object(O.jsx)(v,{children:t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T,{}),Object(O.jsxs)("h1",{children:["Game Over!","   ","tie"===S.getEndState()?"Draw!":S.getPlayerColorByID(S.getEndState()).toUpperCase()+" WINS!"]}),Object(O.jsx)(L,{currentPlayer:f,gameOver:!0,winner:a})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T,{}),Object(O.jsx)("h1",{children:"Play!"}),Object(O.jsx)(L,{currentPlayer:f,gameOver:!1,winner:a})]})})};var R=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x,{}),Object(O.jsx)(_,{})]})},W=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,25)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,c=e.getLCP,a=e.getTTFB;t(n),r(n),o(n),c(n),a(n)}))};g.a.render(Object(O.jsx)(f.a.StrictMode,{children:Object(O.jsx)(R,{})}),document.getElementById("root")),W()}},[[24,1,2]]]);
//# sourceMappingURL=main.87ed5a50.chunk.js.map